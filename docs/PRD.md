# 产品需求文档 (PRD)
## 霍比特人生活指南 - 指环王夏尔传说攻略网站

### 📋 文档信息
- **项目名称**: 霍比特人生活指南
- **版本**: v1.0.0
- **创建日期**: 2024年7月
- **负责人**: 产品经理
- **审核人**: 技术负责人

---

## 🎯 1. 产品概述

### 1.1 产品背景
《指环王：夏尔传说》于2024年7月29日发布，是一款以霍比特人生活为主题的模拟经营游戏。玩家需要管理霍比特洞穴、烹饪美食、与NPC交往等。目前市场上缺乏专门的深度攻略网站。

### 1.2 产品定位
为《指环王：夏尔传说》玩家提供一站式攻略平台，包含食谱、NPC攻略、装饰灵感等核心功能。

### 1.3 目标用户
- **主要用户**: 《夏尔传说》游戏玩家
- **次要用户**: 指环王粉丝、模拟经营游戏爱好者
- **用户规模**: 预计月活跃用户10,000+

---

## 🎯 2. 产品目标

### 2.1 业务目标
- **短期目标** (1-3个月)
  - 日访问量达到1,000 UV
  - 注册用户达到500人
  - 月收入达到1,000元

- **中期目标** (3-6个月)
  - 日访问量达到5,000 UV
  - 注册用户达到2,000人
  - 月收入达到5,000元

- **长期目标** (6-12个月)
  - 日访问量达到10,000 UV
  - 注册用户达到5,000人
  - 月收入达到10,000元

### 2.2 用户目标
- 快速找到需要的攻略信息
- 分享和展示自己的作品
- 与其他玩家交流经验
- 获得游戏相关的最新资讯

---

## 🎯 3. 功能需求

### 3.1 核心功能

#### 3.1.1 食谱系统
**功能描述**: 提供完整的游戏食谱数据库

**详细需求**:
- **食谱列表页**
  - 分类筛选（早餐、午餐、晚餐、甜点）
  - 难度筛选（简单、中等、困难）
  - 搜索功能（按名称、食材）
  - 排序功能（按热度、难度、解锁时间）

- **食谱详情页**
  - 食谱基本信息（名称、难度、解锁条件）
  - 食材清单（数量、获取方式）
  - 制作步骤（图文说明）
  - 效果说明（属性加成）
  - 相关推荐

- **收藏功能**
  - 用户可收藏喜欢的食谱
  - 个人收藏列表
  - 收藏数量统计

#### 3.1.2 NPC攻略系统
**功能描述**: 提供NPC角色信息和交往攻略

**详细需求**:
- **NPC列表页**
  - 按位置分类（村庄、商店、野外）
  - 按重要性分类（主要、次要）
  - 搜索功能

- **NPC详情页**
  - 基本信息（姓名、位置、职业）
  - 喜好礼物（喜爱、讨厌、中性）
  - 对话选择（正确选项、错误选项）
  - 好感度提升攻略
  - 解锁条件

#### 3.1.3 装饰展示系统
**功能描述**: 展示游戏装饰品和用户作品

**详细需求**:
- **装饰图鉴**
  - 分类浏览（家具、墙壁、地板、花园）
  - 获取方式说明
  - 材料需求
  - 解锁条件

- **用户作品展示**
  - 用户上传装饰作品
  - 点赞和评论功能
  - 作品分类和标签
  - 热门作品推荐

#### 3.1.4 用户系统
**功能描述**: 用户注册、登录和个人中心

**详细需求**:
- **注册登录**
  - 邮箱注册
  - 第三方登录（Google、GitHub）
  - 密码重置

- **个人中心**
  - 个人资料管理
  - 我的收藏
  - 我的投稿
  - 消息中心

### 3.2 辅助功能

#### 3.2.1 搜索系统
- 全站内容搜索
- 搜索历史记录
- 热门搜索推荐
- 搜索建议

#### 3.2.2 评论系统
- 食谱评论
- 作品评论
- 评论管理
- 举报功能

#### 3.2.3 通知系统
- 新内容通知
- 评论回复通知
- 系统公告

---

## 🎯 4. 非功能需求

### 4.1 性能需求
- **页面加载时间**: 首屏加载 < 2秒
- **搜索响应时间**: < 1秒
- **并发用户数**: 支持1,000+并发
- **可用性**: 99.9%

### 4.2 安全需求
- 用户数据加密存储
- HTTPS强制访问
- XSS和CSRF防护
- 敏感信息脱敏

### 4.3 SEO需求
- 服务端渲染(SSR)
- 结构化数据标记
- 站点地图自动生成
- 移动端友好

### 4.4 兼容性需求
- 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 移动端响应式设计
- 支持iOS 12+和Android 8+

---

## 🎯 5. 用户界面需求

### 5.1 设计原则
- **简洁明了**: 界面简洁，信息层次清晰
- **易于使用**: 操作简单，学习成本低
- **响应式**: 适配各种设备屏幕
- **一致性**: 保持设计风格统一

### 5.2 页面布局
- **头部导航**: Logo、主导航、搜索框、用户菜单
- **侧边栏**: 分类导航、热门内容
- **主内容区**: 内容展示
- **底部**: 版权信息、友情链接

### 5.3 色彩方案
- **主色调**: 绿色系（呼应霍比特人主题）
- **辅助色**: 棕色、米色
- **强调色**: 橙色、黄色

---

## 🎯 6. 数据需求

### 6.1 数据结构

#### 6.1.1 食谱数据
```typescript
interface Recipe {
  id: string;
  name: string;
  description: string;
  category: 'breakfast' | 'lunch' | 'dinner' | 'dessert';
  difficulty: 'easy' | 'medium' | 'hard';
  ingredients: Ingredient[];
  steps: string[];
  effects: string[];
  unlockCondition?: string;
  imageUrl: string;
  createdAt: Date;
  updatedAt: Date;
}
```

#### 6.1.2 NPC数据
```typescript
interface NPC {
  id: string;
  name: string;
  location: string;
  profession: string;
  description: string;
  favoriteGifts: string[];
  dislikedGifts: string[];
  dialogueChoices: DialogueChoice[];
  unlockCondition?: string;
  imageUrl: string;
}
```

#### 6.1.3 用户数据
```typescript
interface User {
  id: string;
  email: string;
  username: string;
  avatar?: string;
  favorites: string[];
  submissions: Submission[];
  createdAt: Date;
  lastLoginAt: Date;
}
```

### 6.2 数据来源
- **游戏数据**: 通过游戏截图和玩家分享收集
- **用户生成**: 用户投稿和评论
- **官方资料**: 游戏官方发布的资料

---

## 🎯 7. 技术架构

### 7.1 前端架构
- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **状态管理**: Zustand
- **UI组件**: Headless UI + Radix UI

### 7.2 后端架构
- **数据库**: Cloudflare D1 (SQLite)
- **认证**: Cloudflare Access
- **存储**: Cloudflare R2
- **部署**: Cloudflare Pages

### 7.3 第三方服务
- **分析**: Google Analytics
- **搜索**: Algolia
- **CDN**: Cloudflare
- **监控**: Sentry

---

## 🎯 8. 开发计划

### 8.1 MVP版本 (2周)
- 基础页面框架
- 食谱列表和详情
- 用户注册登录
- 基础搜索功能

### 8.2 完整版本 (4周)
- NPC攻略系统
- 装饰展示系统
- 评论和收藏功能
- 用户中心

### 8.3 优化版本 (6周)
- 社区功能
- 高级搜索
- 性能优化
- SEO优化

---

## 🎯 9. 风险评估

### 9.1 技术风险
- **风险**: 游戏数据收集困难
- **应对**: 建立用户投稿机制，鼓励社区贡献

### 9.2 市场风险
- **风险**: 游戏热度下降
- **应对**: 扩展指环王相关内容，建立品牌影响力

### 9.3 竞争风险
- **风险**: 大型游戏网站进入
- **应对**: 专注垂直领域，提供深度内容

---

## 🎯 10. 成功指标

### 10.1 用户指标
- 日活跃用户数 (DAU)
- 月活跃用户数 (MAU)
- 用户留存率
- 页面停留时间

### 10.2 内容指标
- 内容数量增长
- 用户生成内容比例
- 内容质量评分
- 搜索转化率

### 10.3 商业指标
- 月收入
- 广告点击率
- 用户付费率
- 成本控制

---

## 📋 附录

### A. 用户调研结果
- 80%的玩家需要详细的食谱攻略
- 70%的玩家希望有NPC交往指南
- 60%的玩家想要装饰灵感分享
- 50%的玩家愿意为优质内容付费

### B. 竞品分析
- 游民星空：基础信息，缺乏深度
- 机核：游戏评测，攻略较少
- 百度贴吧：信息分散，质量参差不齐

### C. 技术选型理由
- Next.js：SEO友好，开发效率高
- Cloudflare：免费额度大，全球CDN
- TypeScript：类型安全，维护性好 